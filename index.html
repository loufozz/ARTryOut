<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Dismantling Your Electronics - AR experience</title>
    <meta name="description" content="Basic example for Animation Timeline component."></meta>
    <!--<script src="lib/aframe-v0.3.0.min.js"></script> -->
     <!-- does not seem to work with the version above -->
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="dist/aframe-animation-timeline-component.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

  </head>
  <body style='margin : 0px; overflow: hidden;'>
    <!-- <audio src="bohemian.mp3" autoplay></audio> -->
<a-scene embedded arjs='sourceType: webcam;'>
  <a-assets>
    <video id="videoPlay" muted playsinline src="conflictCongo1st.mp4"></video>
    <a-asset-item id="character" src="characterAnimationTest.glb"></a-asset-item>
    <!-- https://aframe.io/docs/1.0.0/components/sound.html -->
   <!-- <audio id="soundTelling" src="warCongo.m4a" preload="auto"></audio> -->


</a-assets>

  <!-- second-->
  <!-- <a-assets>
    <audio id="soundTelling" src="belgianLegacy.mp3" preload="auto"></audio>
  </a-assets> -->


  <a-marker id="ani0" preset='custom' type='pattern' url='pattern-markerDYEnewchargerBW2.patt'>
    <!-- <a-sphere id="vidStart" color="green" radius="0.2" position="0 2 1"></a-sphere> -->
    <a-image id="photo9" src="screen4videos.png" opacity="1" position="-1 -2 0" rotation="-90 0 0" scale="5 5 5">
    </a-image>
    <a-video src="#videoPlay" width="4" height="2.25" position="-1 -1 0" rotation="-60 0 0" opacity="1"></a-video>
    <!-- <a-text id="clickH" value="click screen for sound" font="toreadore-msdf.json" font-image="toreadore-msdf.png" color="#70F9FF" negate="false" position="-3.45 -4 1" rotation="-90 0 0" scale="2 2 2"></a-text> -->
 </a-marker>


<a-marker id="ani1" preset='custom' type='pattern' url='pattern-markerDYEheadBW2.patt'>
  <!-- <a-scene id="receiver" animation-timeline__1="timeline: #myTimeline; loop: true"> -->

<a-scene id="receiver" animation-timeline__1="timeline: #myTimeline; loop: true; startEvents: myAni; pauseEvents: myPause; resumeEvents: myResume">


      <a-assets timeout="60000">
        <a-asset-item src="https://cdn.aframe.io/fonts/Roboto-msdf.json"></a-asset-item>

        <a-timeline id="myTimeline">

          <a-timeline-group>
          <a-timeline-animation select="#photo1" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#photo1" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#photo1" name="positionright"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#photo1" name="scalein"></a-timeline-animation>

          <a-timeline-animation select="#photo1" name="scaleout"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#photo2" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#photo2" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#photo2" name="positionleft"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#photo1" name="positionright0"></a-timeline-animation>
          <a-timeline-animation select="#photo1" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#photo2" name="scalein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#photo1" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#photo2" name="scaleout"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#photo3" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#photo3" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#photo3" name="positionright"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#photo2" name="positionleft0"></a-timeline-animation>
          <a-timeline-animation select="#photo2" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#photo3" name="scalein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#photo2" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#photo3" name="scaleout"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#photo4" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#photo4" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#photo4" name="positionleft"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#photo3" name="positionright0"></a-timeline-animation>
          <a-timeline-animation select="#photo3" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#photo4" name="scalein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#photo3" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#photo4" name="scaleout"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#photo5" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#photo5" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#photo5" name="positionright"></a-timeline-animation>
          </a-timeline-group>



          <a-timeline-group>
          <a-timeline-animation select="#photo4" name="positionleft0"></a-timeline-animation>
          <a-timeline-animation select="#photo4" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#photo5" name="scalein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#photo4" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#photo5" name="scaleout"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#photo6" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#photo6" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#photo6" name="positionleft"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#photo5" name="positionright0"></a-timeline-animation>
          <a-timeline-animation select="#photo5" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#photo6" name="scalein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#photo5" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#photo6" name="scaleout"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#photo7" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#photo7" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#photo7" name="positionright"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#photo6" name="positionleft0"></a-timeline-animation>
          <a-timeline-animation select="#photo6" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#photo7" name="scalein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#photo6" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#photo7" name="scaleout"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#photo8" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#photo8" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#photo8" name="positionleft"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#photo7" name="positionright0"></a-timeline-animation>
          <a-timeline-animation select="#photo7" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#photo8" name="scalein"></a-timeline-animation>
          </a-timeline-group>


          <a-timeline-animation select="#photo7" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#photo8" name="scaleout"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#photo9" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#photo9" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#photo9" name="positionright"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#photo8" name="positionleft0"></a-timeline-animation>
          <a-timeline-animation select="#photo8" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#photo9" name="scalein"></a-timeline-animation>
          </a-timeline-group>


          <a-timeline-animation select="#photo8" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#photo9" name="scaleout"></a-timeline-animation>
          <a-timeline-animation select="#photo8" name="positionright0"></a-timeline-animation>
          <a-timeline-animation select="#photo8" name="fadeout"></a-timeline-animation>
          </a-timeline-group>


          </a-timeline>

          <a-mixin id="photo"
                    animation__fadein="property: components.material.material.opacity; from: 0; to: 1; dur: 250; easing: linear; autoplay: false"
                    animation__fadeout="property: components.material.material.opacity; from: 1; to: 0; dur: 250; delay: 2000; easing: linear; autoplay: false"
                    animation__togglevisible="property: visible; from: false; to: true; dur: 1; autoplay: false"
                    animation__togglevisibleoff="property: visible; from: true; to: false; dur: 1; delay: 1000; autoplay: false"
                    animation__positionleft="property: position; from: -6 -6 6; to: -0.5 -6 0; dur: 3000; autoplay: false"
                    animation__positionright="property: position; from: 6 -6 -6; to: 0.35 -6 0; dur: 3000; autoplay: false"
                    animation__positionleft0="property: position; from: 0 -6 1; to: -6 -6 -6; dur: 1000; autoplay: false"
                    animation__positionright0="property: position; from: 0 -6 1; to: 6 -6 6; dur: 1000; autoplay: false"
                    animation__scalein="property: scale; from: 1 1 1; to: 5.5 5.5 5.5; dur: 7000; autoplay: false"
                    animation__scaleout="property: scale; from: 5.5 5.5 5.5; to: 2 2 2; dur: 2000; delay: 5000; autoplay: false"
                    rotation="-90 0 0"></a-mixin>
      </a-assets>

      <a-image id="photo1" mixin="photo" src="virtualReality.jpg" opacity="0"
      animation="property: rotation; from: -90 0 -20; to: -90 0 20; loop: true; dur: 3000; dir: alternate">
              <a-text id="vr" value="virtual reality" align="center" wrap-count="10" font="toreadore-msdf.json"
              font-image="toreadore-msdf.png" color="#70F9FF" opacity="0" negate="false"
              position="0 0.25 1" rotation="-45 0 0" scale="0.1 0.1 0.1"></a-text></a-image>
      <a-image id="photo2" mixin="photo" src="augmentedReality.jpg" opacity="0"
      animation="property: rotation; from: -90 0 -20; to: -90 45 20; loop: true; dur: 2000; dir: alternate">
              <a-text id="vr" value="augmented reality" align="center" wrap-count="10" font="toreadore-msdf.json"
              font-image="toreadore-msdf.png" color="#70F9FF" opacity="0" negate="false"
              position="0 0.25 1" rotation="-45 0 0" scale="0.1 0.1 0.1"></a-text></a-image>
      <a-image id="photo3" mixin="photo" src="artisanalMiners_robertCarruba.jpg" opacity="0"
      animation="property: rotation; from: -90 0 -20; to: -90 0 20; loop: true; dur: 2000; dir: alternate">
              <a-text id="vr" value="miners congo" align="center" wrap-count="10" font="toreadore-msdf.json"
              font-image="toreadore-msdf.png" color="#70F9FF" opacity="0" negate="false"
              position="0 0.25 1" rotation="-45 0 0" scale="0.1 0.1 0.1"></a-text></a-image>
      <a-image id="photo4" mixin="photo" src="bauxiteRaw.jpg" opacity="0"
      animation="property: rotation; from: -90 0 -20; to: -90 0 20; loop: true; dur: 2000; dir: alternate">
              <a-text id="vr" value="bauxite raw" align="center" wrap-count="10" font="toreadore-msdf.json"
              font-image="toreadore-msdf.png" color="#70F9FF" opacity="0" negate="false"
              position="0 0.25 1" rotation="-45 0 0" scale="0.1 0.1 0.1"></a-text></a-image>
      <a-image id="photo5" mixin="photo" src="aluminium_topquark22.jpg" opacity="0"
      animation="property: rotation; from: -90 0 -20; to: -90 0 20; loop: true; dur: 2000; dir: alternate">
              <a-text id="vr" value="bauxite processed eg" align="center" wrap-count="10" font="toreadore-msdf.json"
              font-image="toreadore-msdf.png" color="#70F9FF" opacity="0" negate="false"
              position="0 0.25 1" rotation="-45 0 0" scale="0.1 0.1 0.1"></a-text></a-image>
      <a-image id="photo6" mixin="photo" src="cassiteriteRaw.jpg" opacity="0"
      animation="property: rotation; from: -90 0 -20; to: -90 0 20; loop: true; dur: 2000; dir: alternate">
              <a-text id="vr" value="cassiterite raw" align="center" wrap-count="10" font="toreadore-msdf.json"
              font-image="toreadore-msdf.png" color="#70F9FF" opacity="0" negate="false"
              position="0 0.25 1" rotation="-45 0 0" scale="0.1 0.1 0.1"></a-text></a-image>
      <a-image id="photo7" mixin="photo" src="tomatoCan.jpg" opacity="0"
      animation="property: rotation; from: -90 0 -20; to: -90 0 20; loop: true; dur: 2000; dir: alternate">
              <a-text id="vr" value="cassiterite processed eg" align="center" wrap-count="10" font="toreadore-msdf.json"
              font-image="toreadore-msdf.png" color="#70F9FF" opacity="0" negate="false"
              position="0 0.25 1" rotation="-45 0 0" scale="0.1 0.1 0.1"></a-text></a-image>
      <a-image id="photo8" mixin="photo" src="copperRaw.jpg" opacity="0"
      animation="property: rotation; from: -90 0 -20; to: -90 0 20; loop: true; dur: 2000; dir: alternate">
              <a-text id="vr" value="copper raw" align="center" wrap-count="10" font="toreadore-msdf.json"
              font-image="toreadore-msdf.png" color="#70F9FF" opacity="0" negate="false"
              position="0 0.25 1" rotation="-45 0 0" scale="0.1 0.1 0.1"></a-text></a-image>
      <a-image id="photo9" mixin="photo" src="coinsCopper.jpg" opacity="0"
      animation="property: rotation; from: -90 0 -20; to: -90 0 20; loop: true; dur: 2000; dir: alternate">
              <a-text id="vr" value="copper processed eg" align="center" wrap-count="10" font="toreadore-msdf.json"
              font-image="toreadore-msdf.png" color="#70F9FF" opacity="0" negate="false"
              position="0 0.25 1" rotation="-45 0 0" scale="0.1 0.1 0.1"></a-text></a-image>


      <a-entity id="photoAmbient" loop="true" volume="1" sound="src: url(belgianLegacy.m4a)"></a-entity>

      <!-- <a-entity id="text5" mixin="text" text="value: walks 35 km in 2 days"></a-entity>

      <a-entity position="0 -0.5 -10">
        <a-entity id="box1" mixin="box" position="-4 0 0"></a-entity>
        <a-entity mixin="box"></a-entity>
        <a-entity mixin="box" position="4 0 0"></a-entity>
0 -10 0
        0 2 -3
      </a-entity>-->


      <!--<a-sky id="sky" color="#FAFAFA" animation__color="property: components.material.material.color; type: color; from: #FAFAFA; to: #111; dur: 2000; autoplay: false"></a-sky>-->


 </a-scene>
</a-marker>

<a-marker id="ani2" preset='custom' type='pattern' url='pattern-markerDYEmonitorBW2.patt'>

<a-scene id="receiver2" animation-timeline__2="timeline: #myTimeline2; loop: true; startEvents: myAni2; pauseEvents: myPause2; resumeEvents: myResume2">

<!-- <a-image id="chatMK" src="chatHeaderBubbleMK.png" opacity="0.8"></a-image> -->
      <a-assets timeout="500000">
        <a-asset-item src="https://cdn.aframe.io/fonts/Roboto-msdf.json"></a-asset-item>

        <a-timeline id="myTimeline2">

          <a-timeline-group>
          <a-timeline-animation select="#image8" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#image8" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#image8" name="scaleentry"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#image8" name="scaleentry0"></a-timeline-animation>
          <a-timeline-animation select="#image8" name="positionout"></a-timeline-animation>
          <a-timeline-animation select="#image8" name="fadeout"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#image1" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#image1" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#image1" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#image1" name="positionright"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#image1" name="scalein"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#image2" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#image2" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#image2" name="positionleft"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#image1" name="scaleout"></a-timeline-animation>
          <a-timeline-animation select="#image2" name="scalein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#image1" name="positionout"></a-timeline-animation>
          <a-timeline-animation select="#image1" name="fadeout"></a-timeline-animation>
          </a-timeline-group>
          <a-timeline-animation select="#image1" name="togglevisibleoff"></a-timeline-animation>


          <a-timeline-group>
          <a-timeline-animation select="#image3" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#image3" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#image3" name="positionright"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#image2" name="scaleout"></a-timeline-animation>
          <a-timeline-animation select="#image3" name="scalein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#image2" name="positionout"></a-timeline-animation>
          <a-timeline-animation select="#image2" name="fadeout"></a-timeline-animation>
          </a-timeline-group>
          <a-timeline-animation select="#image2" name="togglevisibleoff"></a-timeline-animation>


          <a-timeline-group>
          <a-timeline-animation select="#image4" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#image4" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#image4" name="positionleft"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#image3" name="scaleout"></a-timeline-animation>
          <a-timeline-animation select="#image4" name="scalein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#image3" name="positionout"></a-timeline-animation>
          <a-timeline-animation select="#image3" name="fadeout"></a-timeline-animation>
          </a-timeline-group>
          <a-timeline-animation select="#image3" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#image4" name="scaleout"></a-timeline-animation>

          <a-timeline-animation select="#image4" name="positionout"></a-timeline-animation>
          <a-timeline-animation select="#image4" name="fadeout"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#image5" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#image5" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#image5" name="positionleft"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#image4" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#image5" name="scalein"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#image6" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#image6" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#image6" name="positionright"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#image5" name="scaleout"></a-timeline-animation>
          <a-timeline-animation select="#image6" name="scalein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#image5" name="positionout"></a-timeline-animation>
          <a-timeline-animation select="#image5" name="fadeout"></a-timeline-animation>
          </a-timeline-group>
          <a-timeline-animation select="#image5" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#image6" name="scaleout"></a-timeline-animation>

          <a-timeline-group>
          <a-timeline-animation select="#image7" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#image7" name="fadein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
          <a-timeline-animation select="#image6" name="positionout"></a-timeline-animation>
          <a-timeline-animation select="#image6" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#image6" name="togglevisibleoff"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#image7" name="scalein"></a-timeline-animation>

          <a-timeline-animation select="#image7" name="scaleout"></a-timeline-animation>
          <a-timeline-group>
          <a-timeline-animation select="#image7" name="positionout"></a-timeline-animation>
          <a-timeline-animation select="#image7" name="fadeout"></a-timeline-animation>
          </a-timeline-group>
          <a-timeline-animation select="#image7" name="togglevisibleoff"></a-timeline-animation>


          </a-timeline>

          <a-mixin id="image"
                    animation__fadein="property: components.material.material.opacity; from: 0; to: 1; dur: 500; easing: linear; autoplay: false"
                    animation__fadeout="property: components.material.material.opacity; from: 1; to: 0; dur: 2000; easing: linear; autoplay: false"
                    animation__togglevisible="property: visible; from: false; to: true; dur: 1; autoplay: false"
                    animation__togglevisibleoff="property: visible; from: true; to: false; dur: 1; delay: 1000; autoplay: false"
                    animation__positionleft="property: position; from: -6 -8 0; to: -1 -8 0; dur: 1000; autoplay: false"
                    animation__positionright="property: position; from: 6 -8 0; to: 1 -8 0; dur: 1000; autoplay: false"
                    animation__positionout="property: position; from: 0 -8 1; to: 0 -12 -4; dur: 1000; autoplay: false"
                    animation__scalein="property: scale; from: 1 1 1; to: 4 4 4; dur: 5500; delay: 1000; autoplay: false"
                    animation__scaleentry="property: scale; from: 2 2 2; to: 3 3 3; dur: 8000; autoplay: false"
                    animation__scaleentry0="property: scale; from: 4 4 4; to: 2 2 2; dur: 500; autoplay: false"
                    animation__scaleout="property: scale; from: 4 4 4; to: 1 1 1; dur: 4000; delay: 6000; autoplay: false"
                    rotation="-90 0 0"></a-mixin>
      </a-assets>

      <a-image id="image1" mixin="image" src="MKK_R1.png" opacity="0"></a-image>
      <a-image id="image2" mixin="image" src="MKK_L1.png" opacity="0"></a-image>
      <a-image id="image3" mixin="image" src="MKK_R2.png" opacity="0"></a-image>
      <a-image id="image4" mixin="image" src="MKK_L2.png" opacity="0"></a-image>
      <a-image id="image5" mixin="image" src="MKK_L3.png" opacity="0"></a-image>
      <a-image id="image6" mixin="image" src="MKK_R3.png" opacity="0"></a-image>
      <a-image id="image7" mixin="image" src="MKK_question.png" opacity="0"></a-image>
      <a-image id="image8" mixin="image" src="entryMessageMK.png" opacity="0" position="0 1 0"></a-image>


      <a-entity id="conversationMKK" loop="true" volume="1" sound="src: url(dyeconversation2_2.mp3)"></a-entity>
      <!-- <a-entity id="text5" mixin="text" text="value: walks 35 km in 2 days"></a-entity>

      <a-entity position="0 -0.5 -10">
        <a-entity id="box1" mixin="box" position="-4 0 0"></a-entity>
        <a-entity mixin="box"></a-entity>
        <a-entity mixin="box" position="4 0 0"></a-entity>
0 -10 0
        0 2 -3
      </a-entity>-->


      <!--<a-sky id="sky" color="#FAFAFA" animation__color="property: components.material.material.color; type: color; from: #FAFAFA; to: #111; dur: 2000; autoplay: false"></a-sky>-->


</a-scene>
</a-marker>

<a-marker id="ani3" preset='custom' type='pattern' url='pattern-markerDYEbatteryBW2.patt'>

  <a-scene id="receiver3" animation-timeline__3="timeline: #myTimeline3; loop: true; startEvents: myAni3; pauseEvents: myPause3; resumeEvents: myResume3">

  <!-- <a-image id="chatMK" src="chatHeaderBubbleMK.png" opacity="0.8"></a-image> -->
        <a-assets timeout="15000">
          <a-asset-item src="https://cdn.aframe.io/fonts/Roboto-msdf.json"></a-asset-item>

          <a-timeline id="myTimeline3">

            <a-timeline-group>
            <a-timeline-animation select="#convo19" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo19" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo19" name="scaleentry"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-group>
            <a-timeline-animation select="#convo19" name="scaleentry0"></a-timeline-animation>
            <a-timeline-animation select="#convo19" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo19" name="fadeout"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo19" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo1" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo1" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo1" name="positionleft"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo1" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo2" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo2" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo2" name="positionright"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-group>
            <a-timeline-animation select="#convo1" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo2" name="scalein"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-group>
            <a-timeline-animation select="#convo1" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo1" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo1" name="togglevisibleoff"></a-timeline-animation>


            <a-timeline-group>
            <a-timeline-animation select="#convo3" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo3" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo3" name="positionleft"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-group>
            <a-timeline-animation select="#convo2" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo3" name="scalein"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-group>
            <a-timeline-animation select="#convo2" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo2" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo2" name="togglevisibleoff"></a-timeline-animation>


            <a-timeline-group>
            <a-timeline-animation select="#convo4" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo4" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo4" name="positionleft"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-group>
            <a-timeline-animation select="#convo3" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo4" name="scalein"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-group>
            <a-timeline-animation select="#convo3" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo3" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo3" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-animation select="#convo4" name="scaleout"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo4" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo4" name="fadeout"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-group>
            <a-timeline-animation select="#convo5" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo5" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo5" name="positionright"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo4" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-animation select="#convo5" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo6" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo6" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo6" name="positionleft"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-group>
            <a-timeline-animation select="#convo5" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo6" name="scalein"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-group>
            <a-timeline-animation select="#convo5" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo5" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo5" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo7" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo7" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo7" name="positionleft"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo6" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo7" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo6" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo6" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo6" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo8" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo8" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo8" name="positionright"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo7" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo8" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo7" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo7" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo7" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo9" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo9" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo9" name="positionleft"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo8" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo9" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo8" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo8" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo8" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo10" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo10" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo10" name="positionright"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo9" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo10" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo9" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo9" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo9" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo11" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo11" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo11" name="positionleft"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo10" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo11" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo10" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo10" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo10" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo12" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo12" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo12" name="positionright"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo11" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo12" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo11" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo11" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo11" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo13" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo13" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo13" name="positionleft"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo12" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo13" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo12" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo12" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo12" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo14" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo14" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo14" name="positionright"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo13" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo14" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo13" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo13" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo13" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo15" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo15" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo15" name="positionleft"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo14" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo15" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo14" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo14" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo14" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo16" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo16" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo16" name="positionleft"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo15" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo16" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo15" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo15" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo15" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo17" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo17" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#convo17" name="positionright"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo16" name="scaleout"></a-timeline-animation>
            <a-timeline-animation select="#convo17" name="scalein"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo16" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo16" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo16" name="togglevisibleoff"></a-timeline-animation>

            <a-timeline-animation select="#convo17" name="scaleout"></a-timeline-animation>

            <a-timeline-group>
            <a-timeline-animation select="#convo18" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#convo18" name="fadein"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-group>
            <a-timeline-animation select="#convo17" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo17" name="fadeout"></a-timeline-animation>
            <a-timeline-animation select="#convo17" name="togglevisibleoff"></a-timeline-animation>
            </a-timeline-group>

            <a-timeline-animation select="#convo18" name="scalein"></a-timeline-animation>

            <a-timeline-animation select="#convo18" name="scaleout"></a-timeline-animation>
            <a-timeline-group>
            <a-timeline-animation select="#convo18" name="positionout"></a-timeline-animation>
            <a-timeline-animation select="#convo18" name="fadeout"></a-timeline-animation>
            </a-timeline-group>
            <a-timeline-animation select="#convo18" name="togglevisibleoff"></a-timeline-animation>


            </a-timeline>

            <a-mixin id="convo"
                      animation__fadein="property: components.material.material.opacity; from: 0; to: 1; dur: 500; easing: linear; autoplay: false"
                      animation__fadeout="property: components.material.material.opacity; from: 1; to: 0; dur: 2000; easing: linear; autoplay: false"
                      animation__togglevisible="property: visible; from: false; to: true; dur: 1; autoplay: false"
                      animation__togglevisibleoff="property: visible; from: true; to: false; dur: 1; delay: 1000; autoplay: false"
                      animation__positionleft="property: position; from: -6 -8 0; to: -1 -8 0; dur: 1000; autoplay: false"
                      animation__positionright="property: position; from: 6 -8 0; to: 1 -8 0; dur: 1000; autoplay: false"
                      animation__positionout="property: position; from: 0 -8 1; to: 0 -12 -4; dur: 1000; autoplay: false"
                      animation__scalein="property: scale; from: 1 1 1; to: 4 4 4; dur: 8000; delay: 1000; autoplay: false"
                      animation__scaleentry="property: scale; from: 2 2 2; to: 3 3 3; dur: 8000; autoplay: false"
                      animation__scaleentry0="property: scale; from: 4 4 4; to: 2 2 2; dur: 500; autoplay: false"
                      animation__scaleout="property: scale; from: 4 4 4; to: 1 1 1; dur: 4000; delay: 3000; autoplay: false"
                      rotation="-90 0 0"></a-mixin>
        </a-assets>

        <a-image id="convo1" mixin="convo" src="MR_L1.png" opacity="0"></a-image>
        <a-image id="convo2" mixin="convo" src="MR_R1.png" opacity="0"></a-image>
        <a-image id="convo3" mixin="convo" src="MR_L2.png" opacity="0"></a-image>
        <a-image id="convo4" mixin="convo" src="MR_L3.png" opacity="0"></a-image>
        <a-image id="convo5" mixin="convo" src="MR_R2.png" opacity="0"></a-image>
        <a-image id="convo6" mixin="convo" src="MR_L4.png" opacity="0"></a-image>
        <a-image id="convo7" mixin="convo" src="MR_L5.png" opacity="0"></a-image>
        <a-image id="convo8" mixin="convo" src="MR_R3.png" opacity="0"></a-image>
        <a-image id="convo9" mixin="convo" src="MR_L6.png" opacity="0"></a-image>
        <a-image id="convo10" mixin="convo" src="MR_R4.png" opacity="0"></a-image>
        <a-image id="convo11" mixin="convo" src="MR_L7.png" opacity="0"></a-image>
        <a-image id="convo12" mixin="convo" src="MR_R5.png" opacity="0"></a-image>
        <a-image id="convo13" mixin="convo" src="MR_L8.png" opacity="0"></a-image>
        <a-image id="convo14" mixin="convo" src="MR_R6.png" opacity="0"></a-image>
        <a-image id="convo15" mixin="convo" src="MR_L9.png" opacity="0"></a-image>
        <a-image id="convo16" mixin="convo" src="MR_L10.png" opacity="0"></a-image>
        <a-image id="convo17" mixin="convo" src="MR_R7.png" opacity="0"></a-image>
        <a-image id="convo18" mixin="convo" src="MR_question.png" opacity="0"></a-image>
        <a-image id="convo19" mixin="convo" src="entryMessageMR.png" opacity="0" position="0 1 0"></a-image>


        <a-entity id="conversationMR" loop="true" volume="1" sound="src: url(dyeconversation2nd_2.mp3)"></a-entity>
        <!-- <a-entity id="text5" mixin="text" text="value: walks 35 km in 2 days"></a-entity>

        <a-entity position="0 -0.5 -10">
          <a-entity id="box1" mixin="box" position="-4 0 0"></a-entity>
          <a-entity mixin="box"></a-entity>
          <a-entity mixin="box" position="4 0 0"></a-entity>
  0 -10 0
          0 2 -3
        </a-entity>-->


        <!--<a-sky id="sky" color="#FAFAFA" animation__color="property: components.material.material.color; type: color; from: #FAFAFA; to: #111; dur: 2000; autoplay: false"></a-sky>-->


  </a-scene>
</a-marker>


<a-entity camera></a-entity>

    </a-scene>

    <!--githubcorner
    <a href="https://github.com/supermedium/superframe/tree/master/components/animation-timeline/examples/basic/" class="github-corner">
      <svg width="80" height="80" viewBox="0 0 250 250" style="fill: #111; color: #EFEFEF; position: fixed; bottom: 0; border: 0; left: 0; transform: rotate(180deg); opacity: 0.8">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path>
      </svg>
    </a> -->
    <!--<style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}
    </style>-->
    <!--endgithubcorner-->

 <script>
//     AFRAME.registerComponent("marking", {
//     init: function() {
//       console.log("Initializing");
//    this.marker = document.getElementById("ani1");
//    this.markerVisible = false
// },
// tick: function() {
//    if (!this.marker) return
//    if (this.marker.object3D.visible) {
//       if (!this.markerVisible) {
//          // marker detected
//          this.markerVisible = true
//          console.log("marker is showing")
//       }
//    } else {
//       if (this.markerVisbile) {
//          // lost sight of the marker
//          this.markerVisible = false
//       }
//    }
// }
// })-->

window.onload = function(){
  let videoNumToPlay =0;
  let soundNumToPlay =0;

  console.log("ready for debug");


//let m = document.getElementById("ani1");
let el = document.getElementById("receiver");
let el2 = document.getElementById("receiver2");
let el3 = document.getElementById("receiver3");
let m = document.getElementsByTagName("a-marker");
// let tVid = document.getElementById("vidStart");
// let tSound = document.getElementById("soundStart");

console.log("markers:: ");
console.log(m);

let firstTime = false;
let firstTime2 = false;
let firstTime3 = false;
//document.getElementById("vidStart")
// window.onclick = function(){
// console.log("video loaded");
//
// document.getElementById("clickH").components.text.material.uniforms.opacity.value =0;
// }

document.getElementById("videoPlay").muted =false;
el.style.display = "none";
el2.style.display = "none";
el3.style.display = "none";


m[0].addEventListener("markerFound", (e)=>{
  // ensure that the animation element is not visible...
  el.style.display = "none";
  el2.style.display = "none";
  el3.style.display = "none";
   console.log("found ani 0");
   console.log(m[0]);
   //play the video
   console.log( document.getElementById("videoPlay"));
   if(document.getElementById("videoPlay").currentTime === 0){

//  setInterval( testFunc, 1000);
   document.getElementById("videoPlay").play();
   console.log("play");
 }
 else{
   document.getElementById("videoPlay").play();
 }

});

/*function testFunc(){
  console.log("dur:: "+document.getElementById("videoPlay").duration);
  console.log("curr:: "+document.getElementById("videoPlay").currentTime );
}*/

 document.getElementById("videoPlay").onended = function(){
   console.log("ended");

   if(videoNumToPlay <5){
     videoNumToPlay +=1;
   }
   //reset
   else{
      videoNumToPlay =0;
   }

   if(videoNumToPlay ===1){
       document.getElementById("videoPlay").src = "samsungFold_ad.mp4";
   }

   if(videoNumToPlay ===2){
      document.getElementById("videoPlay").src = "tiktokJade.mp4";

   }
   if(videoNumToPlay ===3){
      document.getElementById("videoPlay").src = "africaDeadliest.mp4";

   }
   if(videoNumToPlay ===4){
      document.getElementById("videoPlay").src = "minnesotaMining_ad.mp4";

   }
   if(videoNumToPlay ===5){
      document.getElementById("videoPlay").src = "theSurvivors.mp4";

   }
   else if(videoNumToPlay ===0){
     document.getElementById("videoPlay").src = "conflictCongo1st.mp4";

   }


  console.log("and now ... "+  document.getElementById("videoPlay"));
   document.getElementById("videoPlay").play();

 }


m[0].addEventListener("markerLost", (e)=>{
   console.log("lost video marker");
  //console.log(document.getElementById("videoPlay").currentTime);
  document.getElementById("videoPlay").pause();
});


m[1].addEventListener("markerFound", (e)=>{
   console.log("found ani 1");
   console.log(m[1]);
   el.style.display = "block";
   //reset currentTime of the video
   document.getElementById("videoPlay").currentTime =0;
   if(firstTime === false){

    el.emit("myAni");
      firstTime =true;
    }
   else{
     el.emit("myResume");
   }

});


m[1].addEventListener("markerLost", (e)=>{
   console.log("lost");
  //console.log(el.pauseAnimation());
   el.emit("myPause");
   el.style.display = "none";

   console.log(el);
});

m[2].addEventListener("markerFound", (e)=>{
   console.log("found ani 2");
   console.log(m[3]);
   el2.style.display = "block";
   //reset currentTime of the video
   document.getElementById("videoPlay").currentTime =0;

   let entity = document.getElementById("conversationMKK");
   //console.log(entity);
   entity.components.sound.playSound();
   if(firstTime2 === false){

    el2.emit("myAni2");
      firstTime2 =true;
    }
   else{
     el2.emit("myResume2");
   }

});

document.getElementById("conversationMKK").addEventListener('sound-ended', function(){
  console.log("sound ended");
console.log(soundNumToPlay);
//   console.log("sound ended");
// console.log(soundNumToPlay);
if(soundNumToPlay <1){
  soundNumToPlay +=1;
  console.log("HERE");
  // console.log("HERE");
}
//reset
  else{
      soundNumToPlay =0;
   }
 if(soundNumToPlay ===1){
   console.log("AND CHANGING");
   // console.log("AND CHANGING");

let m = document.getElementById("conversationMKK").getAttribute("sound");
m.src = "url(dyeconversation2_2.mp3)";
console.log(m);
// console.log(m);
document.getElementById("conversationMKK").setAttribute("sound",m);
 }

 if(soundNumToPlay ===0){
   console.log("AND CHANGING BACK");

let m = document.getElementById("conversationMKK").getAttribute("sound");
m.src = "url(dyeconversations2_2.mp3)";
console.log(m);
// console.log(m);
document.getElementById("conversationMKK").setAttribute("sound",m);
 }

 document.getElementById("conversationMKK").components.sound.playSound();
})


m[2].addEventListener("markerLost", (e)=>{
  let entity = document.getElementById("conversationMKK");
   entity.components.sound.pauseSound();
   console.log("lost image");
  //console.log(el.pauseAnimation());
   el2.emit("myPause2");
   el2.style.display = "none";
   //console.log(el2);

});

m[3].addEventListener("markerFound", (e)=>{
   el3.style.display = "block";
   //reset currentTime of the video
   document.getElementById("videoPlay").currentTime =0;

   let entity = document.getElementById("conversationMR");
   //console.log(entity);
   entity.components.sound.playSound();
   if(firstTime3 === false){

    el3.emit("myAni3");
      firstTime3 =true;
    }
   else{
     el3.emit("myResume3");
   }

});

document.getElementById("conversationMR").addEventListener('sound-ended', function(){
  console.log("sound ended");
console.log(soundNumToPlay2);
//   console.log("sound ended");
// console.log(soundNumToPlay);
if(soundNumToPlay2 <1){
  soundNumToPlay2 +=1;
  console.log("HERE");
  // console.log("HERE");
}
//reset
  else{
      soundNumToPlay2 =0;
   }
 if(soundNumToPlay2 ===1){
   console.log("AND CHANGING");
   // console.log("AND CHANGING");

let m = document.getElementById("conversationMR").getAttribute("sound");
m.src = "url(dyeconversation2nd_2.mp3)";
console.log(m);
// console.log(m);
document.getElementById("conversationMR").setAttribute("sound",m);
 }

 if(soundNumToPlay2 ===0){
   console.log("AND CHANGING BACK");

let m = document.getElementById("conversationMR").getAttribute("sound");
m.src = "url(dyeconversation2nd_2.mp3)";
console.log(m);
// console.log(m);
document.getElementById("conversationMR").setAttribute("sound",m);
 }

 document.getElementById("conversationMR").components.sound.playSound();
})


m[3].addEventListener("markerLost", (e)=>{
  let entity = document.getElementById("conversationMR");
   entity.components.sound.pauseSound();
   console.log("lost image");
  //console.log(el.pauseAnimation());
   el3.emit("myPause2");
   el3.style.display = "none";


});
}
</script>
  </body>
</html>
