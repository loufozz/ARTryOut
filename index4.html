<!-- include A-Frame obviously -->

<html>
  <head>
    <meta charset="utf-8">
    <title>A-Frame Animation Timeline Component - Bohemian</title>
    <meta name="description" content="Basic example for Animation Timeline component."></meta>
    <!--<script src="lib/aframe-v0.3.0.min.js"></script> -->
     <!-- does not seem to work with the version above -->
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="dist/aframe-animation-timeline-component.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
  </head>


<body style='margin : 0px; overflow: hidden;'>


  <a-scene animation-timeline__1="timeline: #myTimeline; loop: true">
    <a-marker preset='custom' type='pattern' url='pattern-ramMemory.patt'>
      <a-assets timeout="10000">
        <a-asset-item src="https://cdn.aframe.io/fonts/Exo2Bold.fnt"></a-asset-item>

        <a-timeline id="myTimeline">
          <a-timeline-animation select="#text1" name="togglevisible"></a-timeline-animation>
          <a-timeline-animation select="#text1" name="fadein"></a-timeline-animation>
          <a-timeline-animation select="#text1" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#text1" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-group>
            <a-timeline-animation select="a-entity[mixin~=box]" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="a-entity[mixin~=box]" name="scale"></a-timeline-animation>
            <a-timeline-animation select="a-entity[mixin~=box]" name="color"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-group>
            <a-timeline-animation select="#text2" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#text2" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#text2" name="textcolor"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#text2" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#text2" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#text3" name="togglevisible"></a-timeline-animation>
          <a-timeline-group>
            <a-timeline-animation select="a-entity[mixin~=box]" name="color"></a-timeline-animation>
            <a-timeline-animation select="a-entity[mixin~=box]" name="rotate"></a-timeline-animation>
            <a-timeline-animation select="a-entity[mixin~=box]" name="position"></a-timeline-animation>
            <a-timeline-animation select="#text3" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#text3" name="positionin"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#text3" name="positionout"></a-timeline-animation>
          <a-timeline-animation select="#text3" name="togglevisibleoff"></a-timeline-animation>

          <a-timeline-animation select="#text4" name="togglevisible"></a-timeline-animation>

          <a-timeline-group>
            <a-timeline-animation select="#sky" name="color"></a-timeline-animation>
            <a-timeline-animation select="#text4" name="fadein"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#text4" name="fadeout" offset="500"></a-timeline-animation>
        <!--  <a-timeline-group>
            <a-timeline-animation select="#text5" name="togglevisible"></a-timeline-animation>
            <a-timeline-animation select="#text5" name="fadein"></a-timeline-animation>
            <a-timeline-animation select="#text5" name="textcolor"></a-timeline-animation>
          </a-timeline-group>

          <a-timeline-animation select="#text5" name="fadeout"></a-timeline-animation>
          <a-timeline-animation select="#text5" name="togglevisibleoff"></a-timeline-animation>
        </a-timeline> -->

        <a-mixin id="box"
          geometry="primitive: box"
          material="color: #AAA; opacity: 0"
          animation__fadein="property: material.opacity; dur: 2000; from: 0; to: 1; autoplay: false"
          animation__scale="property: scale; to: 2 20 2; dur: 2000; easing: easeInOutElastic; autoplay: false"
          animation__position="property: position; to: 0 30 -3; dur: 2000; autoplay: false"
          animation__color="property: material.color; from: #AAA; to: #222; dur: 2500; autoplay: false"
          animation__rotate="property: rotation; to: 0 360; dur: 1000; easing: easeInQuad; autoplay: false"
          scale="0.0001 0.0001 0.0001"
        ></a-mixin>

        <a-mixin id="text"
          text="align: center; color: #333; width: 6; opacity: 0"
          animation__fadein="property: text.opacity; from: 0; to: 1; dur: 3000; easing: linear; autoplay: false"
          animation__fadeout="property: text.opacity; from: 1; to: 0; dur: 3000; easing: linear; autoplay: false"
          animation__togglevisible="property: visible; from: false; to: true; dur: 1; autoplay: false"
          animation__togglevisibleoff="property: visible; from: true; to: false; dur: 1; autoplay: false"
          position="0 2 -3"
          visible="false"></a-mixin>
      </a-assets>

      <a-entity id="text1" mixin="text" text="value: Would you walk from Laval"></a-entity>
      <a-entity id="text2" mixin="text" text="value: to Brossard; opacity: 0"
                animation__textcolor="property: text.color; from: #FAFAFA; to: #8C200E; dur: 2500; autoplay: false"></a-entity>
      <a-entity id="text3" mixin="text" text="value: for your job?"></a-entity>
      <a-entity id="text4" mixin="text" text="value: The cassiterite porter Prince" position="0 -10 0"
                animation__positionin="property: position; to: 0 2 -3; dur: 2500; autoplay: false"
                animation__positionout="property: position; from: 0 2 -3; to: -10 2 -3; dur: 3500; autoplay: false"></a-entity>
    <!--  <a-entity id="text5" mixin="text" text="value: walks 35 km in 2 days"></a-entity> -->

      <a-entity position="0 -0.5 -10">
        <a-entity id="box1" mixin="box" position="-4 0 0"></a-entity>
        <a-entity mixin="box"></a-entity>
        <a-entity mixin="box" position="4 0 0"></a-entity>
      </a-entity>

      <a-sky id="sky" color="#FAFAFA" animation__color="property: material.color; from: #FAFAFA; to: #111; dur: 2000; autoplay: false"></a-sky>

</a-marker>

<a-entity camera></a-entity>
  </a-scene>

</body>
